---
typora-copy-images-to: mdImg
---

# 学习目标

> - [x] 能够书写定义函数的两种不同方式
>
>   ```js
>   // 函数声明式
>   function fn() {
>     
>   }
>   fn();
>   
>   // 函数表达式
>   var fn1 = function () {
>     
>   }
>   fn1();
>   ```
>
>   
>
> - [x] 能够自定义创建对象
>
>   ```js
>   var obj = {
>     属性名:属性值，
>     属性名:属性值,
>     ...
>   }
>   ```
>
>   
>
> - [x] 能够使用对象的属性和方法（点语法和中括号语法）
>
>   - 点语法——》只能写属性名
>
>     - 取值：对象名.属性名
>     - 存值：对象名.属性名 = 值
>
>   - 中括号语法——》认识字符串或者变量
>
>     - 取值：对象名['属性名']
>     - 存值：对象名['属性名'] = 值
>
>   - 如果需要调用对象的方法
>
>     - 对象名.方法名（）
>
>     
>
> - [x] 能够for...in遍历对象的所有属性
>
>   ```js
>   for ( var key in obj ) {
>     key——》每一个键值对的属性名——》变量
>     obj[key]——》每一个键值对的属性值
>   }
>   ```
>
>   
>
> - [x] 能够说出构造函数和对象的区别
>
>   - 构造函数
>     - 就是函数，创建对象的一种方法
>     - 抽象：一大类：比如：人类、狗、学生、老师
>   - 对象
>     - 就是一个数据
>     - 抽象：具体的事物：比如：小明、咱们家的二哈、74期的xxx学生
>
> - [x] 能够说出new关键字的执行过程
>
>   - 创建出一个空对象，这个空对象有具体的类型
>   - 把构造函数的this指向了空对象
>   - 执行构造函数的代码——》给对象加属性和方法
>   - 自动返回创建出来的对象
>
>   
>
> - [ ] 能够说出简单类型和复杂类型的数据作为函数参数的差异
>
>
>   。。。。。。



**理解上课的知识点......**



##### ヾ(๑╹◡╹)ﾉ" (◕ᴗ◕✿)画图演示 预解析的面试题

```js
//3.
fn3();
console.log(c);
console.log(b);
console.log(a);
function fn3() {
  a = b = c = 9;// 相当于： a = 9,b = 9,c = 9
  // var a = b = c = 9; // 相当于只声明了一个a var a = 9 ; b = 9 ; c = 9;
  console.log(a);
  console.log(b);
  console.log(c);
}
```



## 定义函数的两种方式

> 两种方法各有千秋，都有使用的场景

**函数声明**

```javascript
function 函数名(){
  //函数体
}
//------------------------------
function fn() {
    console.log("呵呵");
}
fn();
```



**函数表达式**

```javascript
var 函数名 = function(){
  //函数体
}
//------------------------------
var fn = function() {
    console.log("呵呵");
}
fn();
```

**区别：**

- 函数声明可以先调用，再声明（因为预解析）
- **函数表达式必须先声明赋值，再调用**（相当于变量赋值，只会提升变量声明，不会提升赋值）



## 匿名函数

> 匿名函数：没有名字的函数

**场景一：函数表达式**

```js
var fn = function (){
    console.log('呵呵')；
}
// 将函数赋值给变量fn，此时函数没有名字
```

**场景二：匿名函数自调用——》自执行——》自己调用自己**

> **函数可以自调用（声明后立马使用）**，但是直接调用会报错，此时需要用（）把整个函数体包裹起来才行

```js
// ------------------------------函数自调用
(function fn(){
    consolo.log('呵呵');
})();
//-------------------------------匿名函数自调用
(function (){
    consolo.log('呵呵');
})();
```

- 注意点：一般规范匿名函数自调用之后需要加上分号

##### ----------------------

## 匿名函数自调用的应用（沙箱模式）

> 在多人同时写代码时，如果都使用的是全局变量，很容易与其他人的全局变量互相影响，这叫做**全局变量污染**
>
> 一般使用**沙箱模式（匿名函数自调用）**：每个人的代码在单独的作用域中，不会互相影响

**例子：**

```js
// 小张写的代码，单独运行没毛病
var a = 11;
console.log(a);

function b() {
    console.log('bbbb');
}
b();

// 小王写的代码，单独运行没毛病
var b = 22;
console.log(b);

function a() {
    console.log('aaaa');
}
a();

//---------------------但是如果一起运行，全局变量就会互相影响了（全局变量污染）
```

**解决方法：**

- 只需要让每个人的代码中的变量变成局部变量即可

  > js中只有函数里面才有局部作用域，只需要那函数包裹起来调用即可

- 简写就是函数的自调用，但是有名字的函数还是会全局变量污染，所以使用匿名函数自调用



# 对象

## 为什么学习对象？

> 为什么要学习数组：数组可以存储大量的数据，并且数组规范一般储存的是同类型的数据！！
>
> 对象：万物皆对象，**一个具体的事物就是一个对象。**在现实生活中，只要能被描述出来的就是对象
>
> ```html
> 人类、小毅哥、班主任、74期马老师、手机、我手机的iPhone......
> ```
>
> 思考：如果需要在js中描述出一个人这个对象，怎么做？

**描述人这个对象：**

- 特征（属性）：姓名、年龄、性别、身高、体重......
- 行为（方法）：吃饭、睡觉、敲代码......

**解决方案：**

- 单独使用变量一个个存——》代码麻烦，需要多个变量

  ```js
  // -------------------特征
  var name = "张三";
  var age = 18;
  var sex = "男";
  var height = 180;
  var weight = 150；
  // -------------------行为
  var eat = function () {
      console.log('吃饭');
  }
  var sleep = function () {
      console.log('睡觉');
  }
  //-------------------变量太多麻烦
  ```

- 使用数组存——》数组规范一般储存同类型的数据，并且数组中的数据用户不明白分别表示什么意思

  ```js
  var arr = ['张三',18,'男',180,150];
  //-----------------------数组一般只存储同类型的数据，并且这样写每一项不明确表示什么含义
  ```

- 如果需要描述现实中的对象，此时就需要通过js中的对象完成！



## 对象的基本概念

**数组：**  一组有序的值的集合——》下标有序

**对象：** 一组**无序的键值对的集合**——》可以用于描述生活中对象的特征与行为

> 键值对就是类似于之前css中的样式
>
> 格式：**键：值——》key：value**



## 创建对象的方法

- **字面量（用的最多）**

  > 123、'abc'、true、undefined、null、[]、{}

  ```js
  var obj = {};// 创建一个空对象
  console.log(obj);
  //----------------------------
  var obj = {
      // ------------特征——》对象的属性
      name:"张三",
      age:18,
      sex:"男",
      height:180,
      weight:150,
      // ------------行为——》对象的方法（对象中的函数）
      eat:function (){
          console.log('吃饭');
      },
      sleep:function (){
          console.log('睡觉');
      }
  };
  console.log(obj);
  ```

  **注意点：** 

  - 键值对之间以逗号隔开！！！
  - 对象中的特征叫做**对象的属性**
  - 对象中的行为（函数）叫做**对象的方法**

- **构造函数**

  ```js
  var person = new Object();//创建一个空的对象
  //------------------------------
  var person = new Object({
      name:"张三",
      age:18,
      sex:"男",
      height:180,
      weight:150,
      eat:function (){
          console.log('吃饭');
      },
      sleep:function (){
          console.log('睡觉');
      }
  })
  ```



## 对象的取值与赋值点语法

**对象的取值：**

- **对象名.属性名**

  ```js
  console.log(person.name);
  console.log(person.height);
  ......
  ```

  **注意点：**

  - 如果属性名存在，获取对应的值
  - 如果属性名不存在，返回undefined

- **对象名.方法名**——》**对象名.方法名()**

  > 方法一般不会打印，是用来调用的

  ```js
  console.log(person.eat);// 打印的是方法这个函数
  person.eat();// 表示调用person对象中的eat方法这个函数
  ```

**对象的赋值：**

- **对象名.属性名 = 值**
  - 如果属性名存在，被覆盖
  - 如果属性名不存在，添加一个新属性

##### ------------------------------------------

## 对象取值与赋值中括号语法

### 点语法和中括号语法的介绍

> 之前对于对象的取值与赋值，使用的是点语法

**点语法：**

- 取值：对象名.属性名
- 赋值：对象名.属性名 = 值

---

**中括号语法：**

> 中括号语法也叫做关联数组语法，说白了就是把对象当做是数组看待

- 数组取值是：**arr[下标]**，其实下标就相当于键值对中的键

  ![数组](mdImg/数组.png)



- 类比如数组的取值，对象也可以写：**obj[键]**

  ![对象](mdImg/对象.png)

- 用法灵活，支持**字符串或者变量**
- 取值：**对象名["属性名"]**
- 赋值：**对象名["属性名"] = '新值'**



### 点语法与中括号语法的区别

> 两种方法都能使用，但是**只有中括号语法中支持变量**

- **点语法：对象名.属性名** ——》简洁——》只能写属性名，**不支持变量（不管变量）**
- **中括号语法：对象名['属性名']** ——》灵活——》只能写字符串或者变量

```js
// 下列分别访问的是对象的什么属性
// 1、
obj.name;// obj的？？？属性

// 2、
var str = 'age';
obj.str;// obj的？？？属性


// 3、
obj['height'];// obj的？？？属性


// 4、
var str = 'weight';
obj[str];// obj的？？？属性
```



### 中括号语法的使用场景

> 如果访问的属性名是一个变量，必须使用中括号语法

**需求：**

```js
 // 给一个空对象中添加数据，变成 { n1: 1, n2: 2, n3: 3, n4: 4 ...... n10: 10 }
```



## 遍历对象

> 一个一个的访问对象的全部属性

**语法：**

> 每一个键值对都会执行一遍for...in语句——》其中是变量需要使用中括号语法 

```js
// --------------------key——》键——》是一个变量可以变化
// --------------------obj——》需要遍历的对象
// --------------------obg[key]——》对应的值
for(var key in obj) {
    console.log(key);
    console.log(obj[key]);
}
```

##### ヾ(๑╹◡╹)ﾉ" 遍历对象的小练习

```js
// 需求: 将所有 obj2 的属性, 添加到 obj 中去
var obj = {
    name: '张三',
    age: 30
};

var obj2 = {
    money: 1000000,
    car: '玛莎拉蒂'
};

// 1、 可以一个一个的添加，但是通用性不好（属性变了之后代码也需要变）
// 2、可以遍历数组动态的把所有的数据都添加上
```

##### -----------------------------

## 批量创建对象

> 在实际开发中，可能需要创建多个用户对象，此时就需要批量创建对象了

### 使用工厂函数创建对象（了解）

**需求：** 需要同时创建多个对象出来

- 一个一个字面量形式的创建——》可以，但是不停的做重复的代码
- 可以把重复创建对象的代码用函数封装起来——》这个用来创建对象的函数，就叫做工厂函数

```js
function createPerson(name, age, desc) {
    var obj = {
        name: name,
        age: age,
        desc: desc,
        say: function() {
            // 在对象的方法中, this, 指向当前的对象 
            console.log('大家好, 我叫' + this.name);
        }
    };
    return obj;
}

var xm = createPerson('小明', 18, '长得帅');
console.log(xm);

var xh = createPerson('小红', 30, '长得美');
console.log(xh);
```

**注意点：** 在对象方法中，this就相当于当前这个对象。

**优点：**可以同时创建多个对象

**缺点：**工厂函数创建出来的对象，是Object类型的，没有更具体的类型！！

> 有时候咱们需要构建人这个对象，想要其类型就是person，此时使用工厂函数就不行了



### 构造函数的介绍（记忆）

> 每一个对象自身存在一个类型，表示自己是什么类型的对象。
>
> 作为学生来说，对象的类型应该为Student
>
> 作为老师来说，对象的类型应该为Teacher
>
> 都是人，不过属于不同类型的人
>
> ......
>
> 但是如果使用工厂函数来说，不管创建出来是什么对象，类型始终是Object。
>
> **因为用什么构造函数创建的对象，对象类型就是什么**
>
> 所以如果希望创建一个学生对象，他的类型为Student，此时可以使用自定义一个Student构造函数即可！！



**构造函数的特点：**

- 就是一个函数，并且规范构造函数的函数名首字母大写
- js内部，内置了一些构造函数，比如：Object、Array...
- 构造函数可以自定义

**自定义构造函数的使用步骤：**

1. 声明一个自定义的构造函数，特点是首字母大写
2. 结合new语法一起使用，创建出来的对象，就有自己的类型了！！

##### ------------------------

---

### new做的四件事情

先创建出一个student类型的对象~

> new会做四个事情

1. new会创建一个新的空对象，并且这个对象是有类型的

2. 让构造函数中的this指向当前创建的对象

   > 想给当前新对象加属性，直接通过this找对象即可

3. 执行构造函数中的代码

   > 在这一步可以给新对象加属性和方法

4. 会返回这个新对象

**注意点**

- **new的作用：**创建了一个对象

- **构造函数的作用**：给创建对象添加了属性和方法（实例化对象）

  > 没有构造函数体，只是一个空对象

**代码：**

```js
// ----------------------构造函数
function Person(name, age) {
    this.name = name;
    this.age = age;
    this.sayHi = function() {
        console.log('大家好')
    }
}
```

##### ヾ(๑╹◡╹)ﾉ" 构造函数的小练习-批量创建狗



### 创建对象的小结

- 创建单个对象

  - 字面量：`var obj = {};`

  - 构造函数：`var obj = new Object();` 

- 创建多个对象

  - 工厂函数：`function createPerson() {var obj ={};return obj;}`

    > 只是把创建对象的过程封装成了一个函数

  - 自定义构造函数：`function Person(){ this.name='zs'; }`

    > 需要通过new + 构造函数创建，并且**可以创建不同类型的对象**



### 构造函数和对象的区别

- **构造函数：**批量创建对象的一种方法

  - 指的是一大类（比如：人类）

  ```js
  // 泛指人类这个大类
  function Person(name,age,desc) {
    this.name = name;
    this.age = age;
    this.desc = desc;
  }
  ```

- **对象：** 就是一个数据

  - 特指一个具体的事物（比如：小明这个人）

  ```js
  var xm = new Person( '小明',18,'喜欢和旺仔牛奶' );
  ```

- 我们把通过构造函数创建对象的过程——》将大类细化到具体的事物——》这个过程叫做对象的实例化



# 值类型与引用类型

**简单数据类型（值类型）：**number、string、boolearn、undefined、null

**复杂数据类型（引用类型）：** Array、Object、Function、（自定义构造函数创建的一些对象！！）

> 从内存角度上划分，可以把数据分为值类型与引用类型。

**简单数据类型（值类型）：**变量在存储时，存储的是**值本身**！！

> 简单数据类型在内存角度储存在栈内存中

**复杂数据类型（引用类型）：** 变量在储存时，储存的是内存地址！！

> 复杂数据类型在内存角度储存在堆内存中



## 值类型与引用类型的内存分布

##### (◕ᴗ◕✿)画图说明值类型内存分布

> 值类型变量中存的是值本身

```js
// 变量和简单数据类型储存在栈内存
var num = 10;
console.log( num )
```
##### (◕ᴗ◕✿)画图说明引用类型内存分布

> 引用类型变量中存的是内存地址

```js
// 赋值数据类型无法直接储存到栈内存中，会储存在堆内存中
var obj = {
    name:'zs',
    age:18
}
console.log( obj.name )
```



## 值类型与引用类型的赋值特征

- 值类型变量中存的是值本身，所以赋值给其他变量时，赋值的就是值本身

  ##### (◕ᴗ◕✿) 画图样式

  ```js
  var num = 10;
  var num2 = num;
  num2 = 20;
  console.log(num);
  console.log(num2);
  ```

- 引用类型变量中存的是内存地址，所以赋值给其他变量时，赋值的是内存地址

  ##### (◕ᴗ◕✿) 画图样式
  
  ```js
  var obj = {
      name:'xy',
      age:18
  }
  var obj2 = obj; 
  obj2.name = 'tg';
  console.log(obj2.name);
  console.log(obj.name);
  ```

## 值类型与引用类型参数传递

- 值类型：变量存的是值本身，传参时传递的是值本身

##### (◕ᴗ◕✿)画图说明值类型参数传递

```js
var num = 10;
function fn(a) {
  // 形参，就相当于局部变量，相当于var a = 10
  a = 99;
  console.log(a);
}
fn(num);
console.log(num);
```

- 引用类型：变量存的是内存地址，传参时传递的是内存地址

##### (◕ᴗ◕✿)画图说明引用类型参数传递

```js
var obj = {
  name:"zs",
  age:18
}
function fn(a) {
  a.name = "ls";
  console.log(a.name);
}
fn(obj);
console.log(obj.name);
```

##### ----------------------------

## 值类型与引用类型练习

```js
//面试题1 : 
function fn(a, b) {
  // 相当于
  //  var a = 10;
  //  var b = 20;
  // 函数的参数 其实相当于函数内部的局部变量
  a = a + 1;
  b = b + 1;
  console.log(a);
  console.log(b);
}

var x = 10;
var y = 20;
fn(x, y);
console.log(x);
console.log(y);
```
##### (◕ᴗ◕✿)画图说明第二种情况

```js
//面试题2 : 
var p = {
  name:"zs",
  age:18
}
function fn(person) {
  person.name = 'ls';
//  person = {
//      name:'ff'
//  }
  console.log(person.name);
}
fn(p);
console.log(p.name);
```



# 内置对象

> JS内置对象就是指Javascript自带的一些对象，供开发者使用，这些对象提供了一些常用的的功能。
>
> 常见的内置对象有Math、String、Array、Date等

## Math对象

> Math对象中封装很多与数学相关的属性和方法。

- **圆周率**

  `Math.PI`

- **最大值/最小值**

  ```
  Math.max(1,2,3,4,5,6);
  Math.min(1,2,3,4,5,6);
  ```

- **取整**

  ```javascript
  Math.ceil();//天花板，向上取整，取大的那个
  Math.floor();//地板，向下取整，取小的那个
  Math.round();//四舍五入，如果是.5，则取更大的那个数
  
  console.log( Math.ceil(1.1) );
  console.log( Math.ceil(1.9) );
  console.log( Math.ceil(-1.1) );
  console.log( Math.ceil(-1.9) );
  ```

- **随机数**

  ```javascript
  Math.random();//返回一个[0,1)之间的数，能取到0，取不到1
  ```

  - **小案例：**随机获取0、1、2这三个数
  
    ```js
  // --------------获取0~2.9999的随机数
    Math.random()*3
  //---------------只需要把小数点之后的去掉即可
    parseInt(Math.random()*3)
    ```
  
    > 求0~n的整数随机数
    >
    > `parseInt(Math.random()*(n+1))`

  - **小案例：** 随机生成一个rbg颜色

    ```js
    var colorA = parseInt( Math.random() * 256 );
    var colorB = parseInt( Math.random() * 256 );
    var colorC = parseInt( Math.random() * 256 );
    var str = 'rgb('+ colorA + "," + colorB + ',' + colorC +')';
    console.log(str);
    //----------------------设置body的颜色（web api内容）
    document.body.style.backgroundColor = str;
    ```

- **绝对值**

  ```javascript
  Math.abs();// 求绝对值
  //-----------------------------
  console.log(Math.abs(1));  // 1
  console.log(Math.abs(-1));  // 1
  ```

- **次幂（次方）**

  ```javascript
  Math.pow(num, power);// 求num的power次方
  //-----------------------------
  console.log(Math.pow(3, 2));  // 3的平方  9
  console.log(Math.pow(10, 3)); // 10的三次方 1000
  console.log(Math.pow(100, 0.5));  // 100的开方  10
  ```

- **开方**

  ```js
  Math.sqrt(num);//对num开平方
  //-----------------------------
  console.log(Math.sqrt(9));  // 3
  ```

  