---
typora-copy-images-to: mdImg
---

# 学习目标

> - [x] 能够描述流式布局（布局特征）
>   - 盒子高度一般写死，宽度一般百分比或者自适应
>   - 小图片、小图标、文字大小一般写死
>   - 大图片宽度一般100%，高度不设置默认等比例缩放
> - [x] 能够使用 2倍图进行页面开发
> - [x] 能够实现京东首页的头部布局
> - [ ] 独立完成京东移动端首页布局
>
>
> 。。。。。。

**理解上课的知识点......**



> 接下来我们看下移动web中第二个的注意点

# 二倍图的介绍（重在使用）

> 在移动web开发的时候，会遇到这个情况：
>
> 在移动端页面中需要 `100*100px` 的图片，然而UI给的图片分辨率是 `200*200`的。
>
> 图片的大小是实际设置的两倍，这两倍的图片我们称作二倍图。



**实际开发来说，二倍图的重点在于使用，用法也很简单：告诉你是二倍图，那么css设置的时候把大小除以2设置即可。**



## 二倍图出现的原因（了解）

> 但是有同学会好奇：为什么移动端中不直接给一样大小的，要给2倍图呢？
>
> 如果感兴趣，我们了解下原因

### 物理像素

> 我们平时买手机的时候可以看到手机的各项参数，比如：iphone4手机的分辨率是640*960
>
> 你所看到的这个**分辨率其实指的就是物理像素**

**物理像素：**指的是屏幕中显示的最小颗粒，是真实在物理现实中存在的。

> 说白了就是拿放大镜看到的屏幕中的一个一个**发光点**

![显微镜放大屏幕物理像素](mdImg/显微镜放大屏幕物理像素-1584533996792.gif)

<img src="mdImg/物理像素.jpeg" alt="物理像素" style="zoom:40%;" />

> 我们知道了物理像素就是屏幕中的小小发光点之后，其实肯定有同学会联想到：css中的px，这个px我们平时也叫做css中的像素，那么物理像素和css像素px之间存在什么关系呢？？

css像素px是我们在css中常见的长度单位。但是现在需要**注意**：

- 之前pc端：1个px确实等于1个物理像素——》1个px对应于1个屏幕发光点

- 现在移动端：1个px可能等于多个物理像素——》1个px对应于多个屏幕发光点

  > **比如：**iphone4分辨率（物理像素）：1px==2个物理像素（发光点）



### 移动端屏幕的特点

> 说到这里，有同学可能会觉得：为啥到移动端屏幕和pc端屏幕的设备像素比不能都是1:1的关系了呢？1:1不行嘛？

- 其实pc端和早期的手机屏幕确实设备像素比是1:1，即：1px==1个物理像素（发光点）
- 后面随着技术的发展，出现了比如：**Retina（视网膜屏幕）**显示技术，可以将把更多的物理像素点压缩至一块屏幕，即1px==多个物理像素（发光点），从而达到更高的分辨率，并提高屏幕显示的细腻程度。

![屏幕放大图](mdImg/屏幕放大图-1584533996795.jpg)

![2x](mdImg/2x-1582543853038-1584533996797.png)

> 当物理像素发光点越密集，所以效果更加清晰细腻，因此现在越来越多的移动端屏幕都会选择1px对应多个物理像素的情况了。现在常见的情况就是1px==2个物理像素



> 那么既然随着技术的发展，1px==多个物理像素点，那么对于开发者来说的影响到底是什么呢？？此时我们在移动端中使用图片就会受到影响。

### 二倍图的出现

> 图片有分辨率的概念，而分辨率就是上面所说的物理像素

**图片分辨率：**指的是图片在水平垂直方向需要显示多少个物理像素（小光点）

**存在的问题：以 `200*200`分辨率 的图片显示为例**

- 之前在**pc端中**：图片需要 `200*200` 的发光点——》pc端中：1px==1发光点——》所以此时css中我们需要 `200*200` px即可
- 但是现在**移动端中**：图片需要 `200*200` 的发光点——》iphone4中：1px==2发光点——》所以此时css中需要 `100*100` px即可

---

**为了同学们有直观的感觉：下面是移动端的图片效果：**

![移动端实际效果截图](mdImg/移动端实际效果截图-1584533996797.jpg)

![二倍图对比](mdImg/二倍图对比-1584533996798.png)

> 同学们可以用手机访问上面的网址看效果

**结论：** 在移动端如：iphone4中，需要显示多少px的图片，为了清晰不被强行放大，其实需要使用宽高为2倍分辨率的图片才是最好的效果。而这使用的宽高为2倍分辨率大小的图片，称之为**2倍图**

> 实际开发中现在还存在2倍图、3倍图、4倍图之类的，但是具体使用哪一种看公司的需要或者要求

**命名特点：**

- xxxxx@2x.png：二倍图
- xxxxx@3x.png：三倍图

**注意点：** 二倍图的重点在于使用：***一般移动web开发图片常是二倍图，使用二倍图的时候记得把图片的分辨率除以二设置px即可。***



##### ------------------------

# 移动端开发选择

## 常见移动端开发方案

> 在写移动web代码之前，先了解移动中主流的方案，明确方向

- **单独制作移动端网页（目前主流）**

  > 此类网站会检测用户的设备，如果是pc端则显示pc端页面，如果是移动端则显示移动端页面（通常移动端是网址前加了m：mobile）
  >
  > 特点：一个网站有两套网页

  - [京东商城](https://www.jd.com/)，[手机京东](https://m.jd.com/)
  - [淘宝网](https://www.taobao.com/)，[淘宝网触屏版](https://main.m.taobao.com/)
  - [苏宁易购](https://www.suning.com/)，[手机苏宁](https://m.suning.com/)
  - 等等......

- **响应式网页（很少）**

  > 此类网站只有一个网页，通过判断屏幕宽度的变化从而改变页面的样式，从而适配多个终端
  >
  > 特点：一个网站只需要一个网页
  >
  > **但是有显而易见的缺点：**网页制作麻烦，需要考虑很多兼容性问题

  - [三星官网](https://www.samsung.com/cn/)

  

## 移动端常见布局

> 之前pc端布局的时候通过版心进行屏幕布局适配的
>
> 但是现在移动端中屏幕本身较小，再设置版心不合适，所以此时需要使用特殊的布局套路才行

![移动端技术选型](mdImg/移动端技术选型.png)

# 流式布局的介绍

> 在移动端中需要使用一些特殊的布局方式，流式布局就是其中的一种，也叫百分比布局。
>
> **通过盒子的宽度设置成百分比**来根据屏幕的宽度进行伸缩，不受具体像素的限制，可以自行填充。
>
> 流式布局是移动web开发中较为常见的布局方式



**布局特征：**

- 一般盒子高度写死，宽度百分比或者自适应

- 小图片、小图标、文字大小一般写死

- 大图片一般宽度自适应（100%），高度不设置让其等比例缩放



**经典的流式布局：**

- 左侧固定，右侧自适应

  ![左固定右适应](mdImg/左固定右适应.gif)
  
  **拓展： 要让盒子不在浮动元素下面待着，可以怎么做呢？？——》给盒子设置overflow:hidden（触发BFC）**
  
  > BFC 即 Block Formatting Contexts （块级格式化上下文）是 W3C CSS 规范中的一个概念。它是页面中的一块独立渲染区域，并且有一套特殊渲染规则。
  >
  > - BFC盒子隔绝子元素margin的影响——》解决margin的塌陷
  > - 浮动元素能撑开BFC盒子——》清除浮动
  > - 标准流BFC盒子不被浮动元素覆盖——》自适应布局
  >
  > 具有 BFC 特性的元素可以看作是隔离了的独立容器，容器里面的元素不会在布局上影响到外面的元素，并且 BFC 具有普通容器所没有的一些特性。
  >
  > 通俗一点来讲，**可以把 BFC盒子会变成一个独立的大箱子，箱子内的元素无论如何翻江倒海，都不会影响到外部。**
  >
  > 常见触发BFC的方法： `overflow:hidden` 



- 右侧固定，左侧自适应

  ![右固定左适应](mdImg/右固定左适应.gif)

- 两侧固定，中间自适应（圣杯布局、双飞翼布局）

  ![左右固定中间自适应](mdImg/左右固定中间自适应.gif)

- 等分布局

  > 按照之前写的宽度百分比可以完成，但是当给每一个盒子**设置border之后**，会发现盒子掉下来了~
  >
  > 只要进行移动端布局，盒子约定俗成都需要加上自动内减。

##### ヾ(๑╹◡╹)ﾉ"演示场景的流式布局



##### ------------------------

# JDM京东移动端项目

## 技术选型

- 方案：单独制作移动端网页

- 技术：采用流式布局

## 项目的搭建

> 和之前的操作一样

- 新建一个项目文件夹

  - 新建images文件夹：放入常用的图片资源

  - 新建css文件夹：放入index.css和base.css
- 引入favicon.ico图标
  
- base.css的阅读

  > 大部分来说和之前基础班的base.css文件是一样的，但是有个别的几个区别

  - **取消a标签移动端点击高亮的效果**

    `-webkit-tap-highlight-color: rgba(0, 0, 0, 0); `

## 代码的编写

- **视口**需要设置完整：

  > 移动端开发第一个注意点

  ```html
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  ```

- 在html中引入css文件

  - 先引入base.css
  - 再引入index.css

- 移动端网页整体需要有一个**整体的大容器**

  - 可以直接把body当做整体大容器
  - 或者**京东整体的大盒子：jd_container**
    - 宽度设置100%
    - 高度由内容撑开：先写随便写一个
    - 针对于大屏幕如pc端来说，占满一行就有问题了，此时需要设置最大宽度：max-length一般给设计图的大小。（因为比设计图还要大图片会放大失真）
    - 针对于移动端有最小的宽度：min-width一般给需要适配的最小宽度（320px即可）
    - 居中：margin：0 auto；

- 先把整个网页的各个模块划分好

  ![京东模块划分](mdImg/京东模块划分.png)

- 再每一个部分写

**注意点：** 设计师给的设计图是是二倍图，所以量取的大小应该缩小2倍才行。（精灵图也是一样的）

## 相关操作

- **设置精灵图有背景颜色**

  1. ps右下角倒数第二个按钮点击一下（新建图层）
  2. 左侧选择一个颜色，然后鼠标点击新建的图层，使用快捷键 `alt + backspace(删除键)` （填充图层颜色）
  3. 将有颜色的图片拖到精灵图层的下面即可 

  ![设置精灵图背景颜色](mdImg/设置精灵图背景颜色.gif)

---

- **改变图片的大小**

  > 设计师给的图片是2倍图，此时量取之后还要缩小2倍比较麻烦，此时可以直接把图片大小整体缩小两倍。之后再直接量取即可。

  1. 选择上方的**图像**按钮
  2. 选择**图像**中的**图像大小**选项
  3. 在对话框中设置修改之后的图像大小，只需要把宽度设置为原来的一半即可。

  **注意点：** 此操作**仅仅只是为了量取**更加便捷，但是项目中为了图片清晰还是需要引入2倍图（400px*400px的图片）![改变图片的大小](mdImg/改变图片的大小.gif)